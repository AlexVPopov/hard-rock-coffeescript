<!DOCTYPE HTML>
<html lang="en-US">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Functions | Hard Rock CoffeScript</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="alchapone">
        <meta name="description" content="CoffeScript is a little language that compiles to JavaScript created by Jeremy Ashkenas. This is and evolution of JavaScript that hides its bad parts and exposes the good parts. It&#39;s syntax is inspired by Ruby and Python and brings many features from these two languages.">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="../syntax/flow_control.html" />
        
        
        <link rel="prev" href="../syntax/variables.html" />
        

        <meta property="og:title" content="Functions | Hard Rock CoffeScript">
        <meta property="og:site_name" content="Hard Rock CoffeScript">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/alchapone">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        
        <link rel="stylesheet" href="../gitbook/style.css">
        
        
    <div class="book" data-github="alchapone/hard-rock-coffeescript" data-level="2.2" data-basepath=".." data-revision="1397941870813">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="https://github.com/alchapone/hard-rock-coffeescript" target="_blank" class="btn pull-left"><i class="fa fa-github-alt"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>

    <!-- Actions Right -->
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>

    
    <a href="https://github.com/alchapone/hard-rock-coffeescript/stargazers" target="_blank" class="btn pull-right count-star"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/alchapone/hard-rock-coffeescript/watchers" target="_blank" class="btn pull-right count-watch"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1><a href="../" >Hard Rock CoffeScript</a></h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li>
            <a href="https://github.com/alchapone" target="blank">About the author</a>
        </li>
        <li>
            <a href="https://github.com/alchapone/hard-rock-coffeescript/issues" target="blank">Questions and Issues</a>
        </li>
        <li>
            <a href="https://github.com/alchapone/hard-rock-coffeescript/edit/master/syntax/functions.md" target="blank">Edit and Contribute</a>
        </li>
        <li class="divider"></li>
        
        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="installation/index.html">
                
                <a href="../installation/index.html">
                    <i class="fa fa-check"></i> <b>1.</b> Installation
                </a>
                
                
            </li>
        
            <li  data-level="2" data-path="syntax/scoping.html">
                
                <a href="../syntax/scoping.html">
                    <i class="fa fa-check"></i> <b>2.</b> Syntax
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="syntax/variables.html">
                            
                            <a href="../syntax/variables.html">
                                <i class="fa fa-check"></i> <b>2.1.</b> Variables and Scope
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="syntax/functions.html">
                            
                            <a href="../syntax/functions.html">
                                <i class="fa fa-check"></i> <b>2.2.</b> Functions
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="syntax/flow_control.html">
                            
                            <a href="../syntax/flow_control.html">
                                <i class="fa fa-check"></i> <b>2.3.</b> Flow control
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.4" data-path="syntax/arrays_and_objects.html">
                            
                            <a href="../syntax/arrays_and_objects.html">
                                <i class="fa fa-check"></i> <b>2.4.</b> Arrays and objects
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.5" data-path="syntax/operators_and_alises.html">
                            
                            <a href="../syntax/operators_and_alises.html">
                                <i class="fa fa-check"></i> <b>2.5.</b> Operators and Aliases
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.6" data-path="syntax/loops_and_comprehensions.html">
                            
                            <a href="../syntax/loops_and_comprehensions.html">
                                <i class="fa fa-check"></i> <b>2.6.</b> Loops and comprehensions
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" data-path="&#39;classes/&#39;">
                
                <a href="../&#39;classes/&#39;">
                    <i class="fa fa-check"></i> <b>3.</b> Classes
                </a>
                
                
            </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 44.44444444444444%;min-width: 33.333333333333336%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../installation/index.html" title="Installation" class="chapter done new-chapter" data-progress="1" style="left: 11.11111111111111%;"></a>
    
        <a href="../syntax/scoping.html" title="Syntax" class="chapter done new-chapter" data-progress="2" style="left: 22.22222222222222%;"></a>
    
        <a href="../syntax/variables.html" title="Variables and Scope" class="chapter done " data-progress="2.1" style="left: 33.333333333333336%;"></a>
    
        <a href="../syntax/functions.html" title="Functions" class="chapter done " data-progress="2.2" style="left: 44.44444444444444%;"></a>
    
        <a href="../syntax/flow_control.html" title="Flow control" class="chapter  " data-progress="2.3" style="left: 55.55555555555556%;"></a>
    
        <a href="../syntax/arrays_and_objects.html" title="Arrays and objects" class="chapter  " data-progress="2.4" style="left: 66.66666666666667%;"></a>
    
        <a href="../syntax/operators_and_alises.html" title="Operators and Aliases" class="chapter  " data-progress="2.5" style="left: 77.77777777777777%;"></a>
    
        <a href="../syntax/loops_and_comprehensions.html" title="Loops and comprehensions" class="chapter  " data-progress="2.6" style="left: 88.88888888888889%;"></a>
    
        <a href="../&#39;classes/&#39;" title="Classes" class="chapter  new-chapter" data-progress="3" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_5">
                    
                        <h2 id="functions">Functions</h2>
<p>CoffeeScript removes the rather verbose function statement, and replaces it with a thin arrow: <code>-&gt;</code>.
Functions can be one liners or indented on multiple lines. The last expression in the function is implicitly returned.
In other words, you don&#39;t need to use the return statement unless you want to return earlier inside the function.</p>
<p>With that in mind, let&#39;s take a look at an example:</p>
<p><em>CoffeScript</em>:</p>
<pre><code>func = -&gt; &quot;bar&quot;
</code></pre><p><em>JavaScript</em>:</p>
<pre><code>var func;
func = function() {
  return &quot;bar&quot;;
};
</code></pre><p>You can see in the resultant compilation, the -&gt; is turned into a function statement, and the &quot;bar&quot; string is automatically returned.</p>
<p>As mentioned earlier, there&#39;s no reason why we can&#39;t use multiple lines, as long as we indent the function body properly.</p>
<p><em>CoffeScript</em>:</p>
<pre><code>func = -&gt;
  # An extra line
  &quot;bar&quot;
</code></pre><p><em>JavaScript</em>:</p>
<pre><code>var func;
func = function() {
  return &quot;bar&quot;;
};
</code></pre><h2 id="function-arguments">Function arguments</h2>
<p>What about passing arguments to a function? Well, CoffeeScript allows you do that by specifying arguments
in parentheses before the arrow.</p>
<p><em>CoffeScript</em>:</p>
<pre><code>times = (a, b) -&gt; a * b
</code></pre><p><em>JavaScript</em>:</p>
<pre><code>var times;
times = function(a, b) {
  return a * b;
};
</code></pre><p>CoffeeScript supports default arguments too, for example:</p>
<p><em>CoffeScript</em>:</p>
<pre><code>times = (a = 1, b = 2) -&gt; a * b
</code></pre><p><em>JavaScript</em>:</p>
<pre><code>var times;
times = function(a, b) {
  if (a == null) {
    a = 1;
  }
  if (b == null) {
    b = 2;
  }
  return a * b;
};
</code></pre><h2 id="function-invocation">Function invocation</h2>
<p>Functions can be invoked exactly as in JavaScript, with parens (), apply() or call(). However, like Ruby, CoffeeScript will automatically call functions if they are invoked with at least one argument.</p>
<p><em>CoffeScript</em>:</p>
<pre><code>name = &#39;Hard Rock&#39;

alert name
# Equivalent to:
alert(name)

alert inspect a
# Equivalent to:
alert(inspect(a))
</code></pre><p><em>JavaScript</em>:</p>
<pre><code>var name;
name = &#39;Hard Rock&#39;;
alert(name);
alert(name);
alert(inspect(name));
alert(inspect(name));
</code></pre><p>Although parenthesis is optional, I&#39;d recommend using it if it&#39;s not immediately obvious what&#39;s being invoked, and with which arguments. In the last example, with inspect, I&#39;d definitely recommend wrapping at least the inspect invocation in parens.</p>
<pre><code>alert inspect(a)
</code></pre><p>If you don&#39;t pass any arguments with an invocation, CoffeeScript has no way of working out if you intend to invoke the function, or just treat it like a variable. In this respect, CoffeeScript&#39;s behavior differs from Ruby which always invokes references to functions, and is more similar to Python&#39;s. This has been the source of a few errors in my CoffeeScript programs, so it&#39;s worth keeping an eye out for cases where you intend to call a function without any arguments, and include parenthesis.</p>
<h2 id="function-context">Function context</h2>
<p>Context changes are rife within JavaScript, especially with event callbacks, so CoffeeScript provides a few helpers to manage this. One such helper is a variation on <code>-&gt;</code>, the fat arrow function: <code>=&gt;</code></p>
<p>Using the fat arrow instead of the thin arrow ensures that the function context will be bound to the local one. For example:</p>
<p><em>CoffeScript</em>:</p>
<pre><code>this.clickHandler = -&gt; alert &quot;clicked&quot;
element.addEventListener &quot;click&quot;, (e) =&gt; this.clickHandler(e)
</code></pre><p><em>JavaScript</em>:</p>
<pre><code>var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };
this.clickHandler = function() {
  return alert(&quot;clicked&quot;);
};
element.addEventListener(&quot;click&quot;, __bind(function(e) {
  return this.clickHandler(e);
}, this));
</code></pre><p>The reason you might want to do this, is that callbacks from <code>addEventListener()</code> are executed in the context of the element, i.e. this equals the element. If you want to keep this equal to the local context, without doing a self = this dance, fat arrows are the way to go.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../syntax/variables.html" class="navigation navigation-prev"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../syntax/flow_control.html" class="navigation navigation-next"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
        <script type="text/javascript">(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");
for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f)}})(document,window.mixpanel||[]);
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        
    </body>
</html>
